{"version":3,"sources":["../../../../src/build/webpack/plugins/flight-client-entry-plugin.ts"],"names":["FlightClientEntryPlugin","PLUGIN_NAME","pluginState","getProxiedPluginState","serverActions","edgeServerActions","actionModServerId","actionModEdgeServerId","serverModuleIds","edgeServerModuleIds","ASYNC_CLIENT_MODULES","injectedClientEntries","deduplicateCSSImportsForEntry","mergedCSSimports","sortedCSSImports","Object","entries","sort","a","b","aPath","bPath","aDepth","split","length","bDepth","aName","path","parse","name","bName","indexA","indexOf","indexB","dedupedCSSImports","trackedCSSImports","Set","entryName","cssImports","cssImport","has","filename","includes","add","push","constructor","options","dev","appDir","isEdgeServer","useServerActions","serverActionsBodySizeLimit","assetPrefix","apply","compiler","hooks","compilation","tap","normalModuleFactory","dependencyFactories","set","webpack","dependencies","ModuleDependency","dependencyTemplates","NullDependency","Template","finishMake","tapPromise","createClientEntries","afterCompile","recordModule","modId","mod","modPath","matchResource","resourceResolveData","modQuery","query","modResource","resource","layer","WEBPACK_LAYERS","serverSideRendering","ssrNamedModuleId","relative","context","startsWith","normalizePathSep","replace","traverseModules","_chunk","_chunkGroup","request","buildInfo","rsc","moduleGraph","isAsync","String","make","processAssets","stage","Compilation","PROCESS_ASSETS_STAGE_OPTIMIZE_HASH","assets","createActionAssets","addClientEntryAndSSRModulesList","createdSSRDependenciesForEntry","addActionEntryList","actionMapsPerEntry","forEachEntryModule","entryModule","internalClientComponentEntryImports","actionEntryImports","Map","clientEntriesToInject","connection","getOutgoingConnections","entryRequest","dependency","clientComponentImports","actionImports","collectComponentInfoFromServerEntryDependency","resolvedModule","forEach","dep","names","isAbsoluteRequest","isAbsolute","value","relativeRequest","bundlePath","assign","absolutePagePath","clientEntryToInject","injected","injectClientEntryAndSSRModules","clientImports","APP_CLIENT_INTERNALS","size","createdActions","actionNames","actionName","injectActionEntry","actions","finishModules","addedClientActionEntryList","actionMapsPerClientEntry","ssrEntryDepdendencies","collectClientActionsFromDependencies","remainingClientImportedActions","remainingActionEntryImports","remainingActionNames","id","fromClient","Promise","all","invalidator","getInvalidator","outputPath","some","shouldInvalidate","invalidate","COMPILER_NAMES","client","map","addClientEntryAndSSRModules","collectedActions","visitedModule","visitedEntry","collectActions","collectActionsInDep","modRequest","getActions","entryDependency","ssrEntryModule","getResolvedModule","visited","CSSImports","filterClientComponents","isCSS","isCSSMod","_identifier","sideEffectFree","factoryMeta","unused","getExportsInfo","isModuleUsed","EDGE_RUNTIME_WEBPACK","isClientComponentEntryModule","Array","from","loaderOptions","modules","server","clientLoader","stringify","importPath","sep","clientSSRLoader","getEntries","pageKey","getEntryKey","type","EntryTypes","CHILD_ENTRY","parentEntries","absoluteEntryFilePath","dispose","lastActiveTime","Date","now","entryData","clientComponentEntryDep","EntryPlugin","createDependency","addEntry","actionsArray","actionLoader","JSON","__client_imported__","currentCompilerServerActions","p","generateActionId","workers","actionBrowser","reactServerComponents","actionEntryDep","resolve","reject","entry","get","includeDependencies","call","addModuleTree","contextInfo","issuerLayer","err","module","failedEntry","succeedEntry","chunkGroup","test","mapping","action","json","node","edge","undefined","SERVER_REFERENCE_MANIFEST","sources","RawSource"],"mappings":"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"}
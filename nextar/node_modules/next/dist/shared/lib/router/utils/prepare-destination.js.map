{"version":3,"sources":["../../../../../src/shared/lib/router/utils/prepare-destination.ts"],"names":["matchHas","compileNonPath","prepareDestination","getSafeParamName","paramName","newParamName","i","length","charCode","charCodeAt","escapeSegment","str","segmentName","replace","RegExp","escapeStringRegexp","unescapeSegments","req","query","has","missing","params","hasMatch","hasItem","value","key","type","toLowerCase","headers","cookies","host","hostname","split","matcher","matches","Array","isArray","slice","match","groups","Object","keys","forEach","groupKey","allMatch","every","item","some","includes","compile","validate","args","assign","__nextLocale","__nextDefaultLocale","__nextDataReq","__nextInferredLocaleFromDefault","NEXT_RSC_UNION_QUERY","escapedDestination","destination","param","parsedDestination","parseUrl","destQuery","destPath","pathname","hash","destHostname","destPathParamKeys","destHostnameParamKeys","pathToRegexp","destParams","push","name","destPathCompiler","destHostnameCompiler","strOrArray","entries","map","paramKeys","filter","appendParamsToQuery","newUrl","isInterceptionRouteAppPath","segment","marker","INTERCEPTION_ROUTE_MARKERS","find","m","startsWith","search","err","message","Error"],"mappings":"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"}
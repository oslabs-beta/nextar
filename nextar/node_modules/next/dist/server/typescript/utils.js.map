{"version":3,"sources":["../../../src/server/typescript/utils.ts"],"names":["log","init","getTs","getInfo","getTypeChecker","getSource","removeStringQuotes","isPositionInsideNode","isDefaultFunctionExport","isInsideApp","isAppEntryFile","isPageFile","getIsClientEntry","ts","info","appDirRegExp","message","project","projectService","logger","opts","projectDir","getCurrentDirectory","RegExp","replace","languageService","getProgram","fileName","getSourceFile","str","position","node","start","getFullStart","getFullWidth","isFunctionDeclaration","hasExportKeyword","hasDefaultKeyword","modifiers","modifier","kind","SyntaxKind","ExportKeyword","DefaultKeyword","filePath","test","path","basename","throwOnInvalidDirective","source","isClientEntry","isDirective","forEachChild","isExpressionStatement","isStringLiteral","expression","text","e","messageText","getStart","length","getWidth"],"mappings":"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"}
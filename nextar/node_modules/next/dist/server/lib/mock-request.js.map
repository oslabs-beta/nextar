{"version":3,"sources":["../../../src/server/lib/mock-request.ts"],"names":["MockedRequest","MockedResponse","createRequestResponseMocks","Stream","Readable","constructor","url","headers","method","socket","httpVersion","httpVersionMajor","httpVersionMinor","Proxy","get","_target","prop","Error","headersDistinct","key","value","Object","entries","Array","isArray","_read","emit","connection","aborted","complete","trailers","trailersDistinct","rawTrailers","rawHeaders","setTimeout","Writable","res","statusMessage","finished","headersSent","buffers","statusCode","fromNodeOutgoingHttpHeaders","Headers","hasStreamed","Promise","resolve","reject","on","err","appendHeader","name","values","v","append","isSent","write","chunk","push","Buffer","isBuffer","from","end","arguments","_implicitHeader","_write","_encoding","callback","writeHead","length","i","setHeader","hasHeader","has","getHeader","undefined","getHeaders","toNodeOutgoingHttpHeaders","getHeaderNames","keys","delete","set","toString","removeHeader","strictContentLength","writeEarlyHints","req","assignSocket","detachSocket","writeContinue","writeProcessing","upgrading","chunkedEncoding","shouldKeepAlive","useChunkedEncodingByDefault","sendDate","addTrailers","flushHeaders"],"mappings":"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"}
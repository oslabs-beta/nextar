{"version":3,"sources":["../../../../src/server/lib/router-utils/proxy-request.ts"],"names":["proxyRequest","req","res","parsedUrl","upgradeHead","reqBody","proxyTimeout","query","search","stringifyQuery","target","url","format","HttpProxy","require","proxy","changeOrigin","ignorePath","xfwd","ws","undefined","Promise","proxyResolve","proxyReject","finished","on","proxyReq","destroy","proxyRes","destroyed","innerReq","innerRes","cleanup","err","removeListener","once","console","error","statusCode","end","web","buffer"],"mappings":"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"}
{"version":3,"sources":["../../../src/server/lib/setup-server-worker.ts"],"names":["WORKER_SELF_EXIT_CODE","initializeServerWorker","process","on","err","console","error","MAXIMUM_HEAP_SIZE_ALLOWED","v8","getHeapStatistics","heap_size_limit","requestHandler","upgradeHandler","opts","server","http","createServer","req","res","catch","statusCode","end","finally","memoryUsage","heapUsed","warn","close","exit","keepAliveTimeout","Promise","resolve","reject","socket","upgrade","hostname","addr","address","host","undefined","port","listen"],"mappings":";;;;;;;;;;;;;;;IAmBaA,qBAAqB;eAArBA;;IAgBSC,sBAAsB;eAAtBA;;;QAnCf;2DACQ;6DACuC;QAG/C;QACA;qBAEc;;;;;;AAGrBC,QAAQC,EAAE,CAAC,sBAAsB,CAACC,MAAQ;IACxCC,QAAQC,KAAK,CAACF;AAChB;AAEAF,QAAQC,EAAE,CAAC,qBAAqB,CAACC,MAAQ;IACvCC,QAAQC,KAAK,CAACF;AAChB;AAEO,MAAMJ,wBAAwB;AAErC,MAAMO,4BACJ,AAACC,WAAE,CAACC,iBAAiB,GAAGC,eAAe,GAAG,OAAO,OAAQ;AAapD,eAAeT,uBACpBU,cAAoC,EACpCC,cAAoC,EACpCC,IASC,EAKA;IACD,MAAMC,SAASC,aAAI,CAACC,YAAY,CAAC,CAACC,KAAKC,MAAQ;QAC7C,OAAOP,eAAeM,KAAKC,KACxBC,KAAK,CAAC,CAACf,MAAQ;YACdc,IAAIE,UAAU,GAAG;YACjBF,IAAIG,GAAG,CAAC;YACRhB,QAAQC,KAAK,CAACF;QAChB,GACCkB,OAAO,CAAC,IAAM;YACb,IACEpB,QAAQqB,WAAW,GAAGC,QAAQ,GAAG,OAAO,OACxCjB,2BACA;gBACAkB,IAAAA,SAAI,EACF;gBAEFX,OAAOY,KAAK;gBACZxB,QAAQyB,IAAI,CAAC3B;YACf,CAAC;QACH;IACJ;IAEA,IAAIa,KAAKe,gBAAgB,EAAE;QACzBd,OAAOc,gBAAgB,GAAGf,KAAKe,gBAAgB;IACjD,CAAC;IAED,OAAO,IAAIC,QAAQ,OAAOC,SAASC,SAAW;QAC5CjB,OAAOX,EAAE,CAAC,SAAS,CAACC,MAA+B;YACjDC,QAAQC,KAAK,CAAC,CAAC,wCAAwC,CAAC,EAAEF;YAC1DF,QAAQyB,IAAI,CAAC;QACf;QAEA,IAAIf,gBAAgB;YAClBE,OAAOX,EAAE,CAAC,WAAW,CAACc,KAAKe,QAAQC,UAAY;gBAC7CrB,eAAeK,KAAKe,QAAQC;YAC9B;QACF,CAAC;QACD,IAAIC,WAAWrB,KAAKqB,QAAQ,IAAI;QAEhCpB,OAAOX,EAAE,CAAC,aAAa,UAAY;YACjC,IAAI;gBACF,MAAMgC,OAAOrB,OAAOsB,OAAO;gBAC3B,MAAMC,OAAOF,OACT,OAAOA,SAAS,WACdA,KAAKC,OAAO,GACZD,IAAI,GACNG,SAAS;gBACb,MAAMC,OAAOJ,QAAQ,OAAOA,SAAS,WAAWA,KAAKI,IAAI,GAAG,CAAC;gBAE7D,IAAI,CAACA,QAAQ,CAACF,MAAM;oBAClBhC,QAAQC,KAAK,CACX,CAAC,kDAAkD,CAAC,EACpD6B;oBAEFjC,QAAQyB,IAAI,CAAC;gBACf,CAAC;gBAEDG,QAAQ;oBACNhB;oBACAyB;oBACAL,UAAUG;gBACZ;YACF,EAAE,OAAOjC,KAAK;gBACZ,OAAO2B,OAAO3B;YAChB;QACF;QACAU,OAAO0B,MAAM,CAAC,GAAGN;IACnB;AACF"}
{"version":3,"sources":["../../../src/server/send-payload/index.ts"],"names":["setRevalidateHeaders","sendEtagResponse","sendRenderResult","req","res","etag","setHeader","fresh","headers","statusCode","end","result","type","generateEtags","poweredByHeader","options","isResSent","payload","isDynamic","toUnchunkedString","generateETag","undefined","getHeader","contentType","RSC_CONTENT_TYPE_HEADER","Buffer","byteLength","method","pipe"],"mappings":";;;;;;;;;;;;;;;;IAcSA,oBAAoB;eAApBA,uCAAoB;;IAEbC,gBAAgB;eAAhBA;;IAwBMC,gBAAgB;eAAhBA;;;uBAtCI;sBACG;8DACX;mCAEmB;kCACG;;;;;;AASjC,SAASD,iBACdE,GAAoB,EACpBC,GAAmB,EACnBC,IAAwB,EACf;IACT,IAAIA,MAAM;QACR;;;;;KAKC,GACDD,IAAIE,SAAS,CAAC,QAAQD;IACxB,CAAC;IAED,IAAIE,IAAAA,cAAK,EAACJ,IAAIK,OAAO,EAAE;QAAEH;IAAK,IAAI;QAChCD,IAAIK,UAAU,GAAG;QACjBL,IAAIM,GAAG;QACP,OAAO,IAAI;IACb,CAAC;IAED,OAAO,KAAK;AACd;AAEO,eAAeR,iBAAiB,EACrCC,IAAG,EACHC,IAAG,EACHO,OAAM,EACNC,KAAI,EACJC,cAAa,EACbC,gBAAe,EACfC,QAAO,EASR,EAAiB;IAChB,IAAIC,IAAAA,gBAAS,EAACZ,MAAM;QAClB;IACF,CAAC;IAED,IAAIU,mBAAmBF,SAAS,QAAQ;QACtCR,IAAIE,SAAS,CAAC,gBAAgB;IAChC,CAAC;IAED,IAAIS,WAAW,IAAI,EAAE;QACnBf,IAAAA,uCAAoB,EAACI,KAAKW;IAC5B,CAAC;IAED,MAAME,UAAUN,OAAOO,SAAS,GAAG,IAAI,GAAG,MAAMP,OAAOQ,iBAAiB,EAAE;IAE1E,IAAIF,YAAY,IAAI,EAAE;QACpB,MAAMZ,OAAOQ,gBAAgBO,IAAAA,kBAAY,EAACH,WAAWI,SAAS;QAC9D,IAAIpB,iBAAiBE,KAAKC,KAAKC,OAAO;YACpC;QACF,CAAC;IACH,CAAC;IAED,IAAI,CAACD,IAAIkB,SAAS,CAAC,iBAAiB;QAClClB,IAAIE,SAAS,CACX,gBACAK,OAAOY,WAAW,GACdZ,OAAOY,WAAW,GAClBX,SAAS,QACTY,yCAAuB,GACvBZ,SAAS,SACT,qBACA,0BAA0B;IAElC,CAAC;IAED,IAAIK,SAAS;QACXb,IAAIE,SAAS,CAAC,kBAAkBmB,OAAOC,UAAU,CAACT;IACpD,CAAC;IAED,IAAId,IAAIwB,MAAM,KAAK,QAAQ;QACzBvB,IAAIM,GAAG,CAAC,IAAI;IACd,OAAO,IAAIO,YAAY,IAAI,EAAE;QAC3Bb,IAAIM,GAAG,CAACO;IACV,OAAO;QACL,MAAMN,OAAOiB,IAAI,CAACxB;IACpB,CAAC;AACH"}
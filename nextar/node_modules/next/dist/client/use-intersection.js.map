{"version":3,"sources":["../../src/client/use-intersection.tsx"],"names":["useIntersection","hasIntersectionObserver","IntersectionObserver","observers","Map","idList","createObserver","options","id","root","margin","rootMargin","existing","find","obj","instance","get","elements","observer","entries","forEach","entry","callback","target","isVisible","isIntersecting","intersectionRatio","push","set","observe","element","unobserve","delete","size","disconnect","index","findIndex","splice","rootRef","disabled","isDisabled","visible","setVisible","useState","elementRef","useRef","setElement","useCallback","current","useEffect","tagName","idleCallback","requestIdleCallback","cancelIdleCallback","resetVisible"],"mappings":"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"}
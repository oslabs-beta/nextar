{"version":3,"sources":["../../../../src/build/babel/plugins/next-ssg-transform.ts"],"names":["SERVER_PROPS_SSG_CONFLICT","SERVER_PROPS_ID","STATIC_PROPS_ID","EXPORT_NAME_GET_STATIC_PROPS","EXPORT_NAME_GET_STATIC_PATHS","EXPORT_NAME_GET_SERVER_PROPS","ssgExports","Set","decorateSsgExport","t","path","state","gsspName","isPrerender","gsspId","identifier","addGsspExport","exportPath","done","pageCompPath","replaceWithMultiple","exportNamedDeclaration","variableDeclaration","variableDeclarator","booleanLiteral","exportSpecifier","node","scope","registerDeclaration","traverse","ExportDefaultDeclaration","exportDefaultPath","ExportNamedDeclaration","exportNamedPath","isDataIdentifier","name","has","Error","isServerProps","nextTransformSsg","types","getIdentifier","parentPath","type","pp","get","id","isIdentifierReferenced","ident","b","getBinding","referenced","constantViolations","concat","referencePaths","every","ref","findParent","p","markFunction","refs","add","markImport","local","visitor","Program","enter","VariableDeclarator","variablePath","variableState","pattern","properties","forEach","elements","e","FunctionDeclaration","FunctionExpression","ArrowFunctionExpression","ImportSpecifier","ImportDefaultSpecifier","ImportNamespaceSpecifier","exportNamedState","specifiers","length","s","isIdentifier","exported","value","remove","decl","inner","d","count","sweepFunction","sweepPath","isAssignmentExpression","isVariableDeclarator","sweepImport","parent","crawl","beforeCount"],"mappings":"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"}
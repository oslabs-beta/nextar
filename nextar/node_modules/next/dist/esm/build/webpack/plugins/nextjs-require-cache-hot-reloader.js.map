{"version":3,"sources":["../../../../src/build/webpack/plugins/nextjs-require-cache-hot-reloader.ts"],"names":["clearModuleContext","realpathSync","path","isError","clearManifestCache","originModules","require","resolve","RUNTIME_NAMES","nextDeleteCacheRpc","filePaths","global","_nextDeleteCache","deleteAppClientCache","_nextDeleteAppClientCache","reactServerDomModId","reactServerDomMod","cache","child","children","parent","id","deleteCache","filePath","e","code","mod","originModule","idx","indexOf","splice","PLUGIN_NAME","NextJsRequireCacheHotReloader","constructor","opts","prevAssets","hasServerComponents","apply","compiler","hooks","assetEmitted","tap","_file","targetPath","_nextClearModuleContext","afterEmit","tapPromise","compilation","cacheEntriesToDelete","name","runtimeChunkPath","join","outputOptions","push","entries","keys","filter","entry","isAppPath","toString","startsWith","page","outputPath"],"mappings":"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"}
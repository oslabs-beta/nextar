{"version":3,"sources":["../../src/lib/worker.ts"],"names":["Worker","JestWorker","getNodeOptionsWithoutInspect","RESTARTED","Symbol","constructor","workerPath","options","timeout","onRestart","farmOptions","restartPromise","resolveRestartPromise","activeTasks","_worker","undefined","createWorker","forkOptions","env","process","NODE_OPTIONS","replace","trim","Promise","resolve","enableWorkerThreads","worker","_workerPool","_workers","_child","on","code","signal","console","error","getStdout","pipe","stdout","getStderr","stderr","onHanging","end","then","hangingTimer","onActivity","clearTimeout","setTimeout","method","exposedMethods","startsWith","args","attempts","result","race","bind","Error","close"],"mappings":"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"}
{"version":3,"sources":["../../../../src/client/dev/error-overlay/websocket.ts"],"names":["source","eventCallbacks","lastActivity","Date","now","getSocketProtocol","assetPrefix","protocol","location","URL","_","addMessageListener","cb","push","sendMessage","data","readyState","OPEN","send","connectHMR","options","timeout","init","close","handleOnline","window","console","log","handleMessage","event","forEach","timer","handleDisconnect","clearInterval","onerror","setTimeout","setInterval","hostname","port","replace","url","startsWith","split","WebSocket","path","onopen","onmessage"],"mappings":"AAAA,IAAIA;AACJ,MAAMC,iBAA2C,EAAE;AACnD,IAAIC,eAAeC,KAAKC,GAAG;AAE3B,SAASC,kBAAkBC,WAAmB,EAAU;IACtD,IAAIC,WAAWC,SAASD,QAAQ;IAEhC,IAAI;QACF,uBAAuB;QACvBA,WAAW,IAAIE,IAAIH,aAAaC,QAAQ;IAC1C,EAAE,OAAOG,GAAG,CAAC;IAEb,OAAOH,aAAa,UAAU,OAAO,KAAK;AAC5C;AAEA,OAAO,SAASI,mBAAmBC,EAAwB,EAAE;IAC3DX,eAAeY,IAAI,CAACD;AACtB,CAAC;AAED,OAAO,SAASE,YAAYC,IAAY,EAAE;IACxC,IAAI,CAACf,UAAUA,OAAOgB,UAAU,KAAKhB,OAAOiB,IAAI,EAAE;IAClD,OAAOjB,OAAOkB,IAAI,CAACH;AACrB,CAAC;AAED,OAAO,SAASI,WAAWC,OAI1B,EAAE;IACD,IAAI,CAACA,QAAQC,OAAO,EAAE;QACpBD,QAAQC,OAAO,GAAG,IAAI;IACxB,CAAC;IAED,SAASC,OAAO;QACd,IAAItB,QAAQA,OAAOuB,KAAK;QAExB,SAASC,eAAe;YACtBC,OAAOC,OAAO,CAACC,GAAG,CAAC;YACnBzB,eAAeC,KAAKC,GAAG;QACzB;QAEA,SAASwB,cAAcC,KAAU,EAAE;YACjC3B,eAAeC,KAAKC,GAAG;YAEvBH,eAAe6B,OAAO,CAAC,CAAClB,KAAO;gBAC7BA,GAAGiB;YACL;QACF;QAEA,IAAIE;QACJ,SAASC,mBAAmB;YAC1BC,cAAcF;YACd/B,OAAOkC,OAAO,GAAG,IAAI;YACrBlC,OAAOuB,KAAK;YACZY,WAAWb,MAAMF,QAAQC,OAAO;QAClC;QACAU,QAAQK,YAAY,WAAY;YAC9B,IAAIjC,KAAKC,GAAG,KAAKF,eAAgBkB,QAAQC,OAAO,EAAU;gBACxDW;YACF,CAAC;QACH,GAAG,AAACZ,QAAQC,OAAO,GAAW;QAE9B,MAAM,EAAEgB,SAAQ,EAAEC,KAAI,EAAE,GAAG9B;QAC3B,MAAMD,WAAWF,kBAAkBe,QAAQd,WAAW,IAAI;QAC1D,MAAMA,cAAcc,QAAQd,WAAW,CAACiC,OAAO,CAAC,QAAQ;QAExD,IAAIC,MAAM,AAAGjC,WAAS,QAAK8B,WAAS,MAAGC,OACrChC,CAAAA,cAAc,AAAC,MAAGA,cAAgB,EAAE,AAAD;QAGrC,IAAIA,YAAYmC,UAAU,CAAC,SAAS;YAClCD,MAAM,AAAGjC,WAAS,QAAKD,YAAYoC,KAAK,CAAC,MAAM,CAAC,EAAE;QACpD,CAAC;QAED1C,SAAS,IAAIyB,OAAOkB,SAAS,CAAC,AAAC,KAAEH,MAAMpB,QAAQwB,IAAI;QACnD5C,OAAO6C,MAAM,GAAGrB;QAChBxB,OAAOkC,OAAO,GAAGF;QACjBhC,OAAO8C,SAAS,GAAGlB;IACrB;IAEAN;AACF,CAAC"}
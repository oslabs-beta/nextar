{"version":3,"sources":["../../src/client/use-intersection.tsx"],"names":["useCallback","useEffect","useRef","useState","requestIdleCallback","cancelIdleCallback","hasIntersectionObserver","IntersectionObserver","observers","Map","idList","createObserver","options","id","root","margin","rootMargin","existing","find","obj","instance","get","elements","observer","entries","forEach","entry","callback","target","isVisible","isIntersecting","intersectionRatio","push","set","observe","element","unobserve","delete","size","disconnect","index","findIndex","splice","useIntersection","rootRef","disabled","isDisabled","visible","setVisible","elementRef","setElement","current","tagName","idleCallback","resetVisible"],"mappings":"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"}
{"version":3,"sources":["../../../../src/server/lib/router-utils/setup-dev.ts"],"names":["fs","url","path","qs","Watchpack","loadEnvConfig","isError","findUp","buildCustomRoute","Log","HotReloader","matchNextPageBundleRequest","setGlobal","loadJsConfig","createValidFileMatcher","eventCliSession","getDefineEnv","logAppDirError","getSortedRoutes","getStaticInfoIncludingLayouts","sortByPageExts","verifyTypeScriptSetup","verifyPartytownSetup","getRouteRegex","normalizeAppPath","buildDataRoute","getRouteMatcher","normalizePathSep","createClientRouterFilter","absolutePathToPage","generateInterceptionRoutesRewrites","APP_BUILD_MANIFEST","APP_PATHS_MANIFEST","BUILD_MANIFEST","CLIENT_STATIC_FILES_PATH","COMPILER_NAMES","DEV_CLIENT_PAGES_MANIFEST","DEV_MIDDLEWARE_MANIFEST","MIDDLEWARE_MANIFEST","NEXT_FONT_MANIFEST","PAGES_MANIFEST","PHASE_DEVELOPMENT_SERVER","getMiddlewareRouteMatcher","NextBuildContext","isMiddlewareFile","NestedMiddlewareError","isInstrumentationHookFile","getPossibleMiddlewareFilenames","getPossibleInstrumentationHookFilenames","createOriginalStackFrame","getErrorSource","getSourceById","parseStack","mkdir","readFile","writeFile","PageNotFoundError","srcEmptySsgManifest","devPageFiles","verifyTypeScript","opts","usingTypeScript","verifyResult","dir","distDir","nextConfig","intentDirs","pagesDir","appDir","filter","Boolean","typeCheckPreflight","tsconfigPath","typescript","disableStaticImages","images","hasAppDir","hasPagesDir","version","startWatcher","useFileSystemPublicRoutes","join","validFileMatcher","pageExtensions","renderWorkers","propagateToWorkers","field","args","app","propagateServerField","pages","hotReloader","turbo","loadBindings","require","bindings","jsConfig","project","createProject","projectPath","rootPath","experimental","outputFileTracingRoot","watch","env","process","iter","entrypointsSubscribe","curEntries","Map","globalEntries","undefined","document","error","handleEntries","entrypoints","pagesAppEndpoint","pagesDocumentEndpoint","pagesErrorEndpoint","clear","pathname","route","routes","type","set","info","catch","err","console","exit","e","buildManifests","appBuildManifests","pagesManifests","appPathsManifests","middlewareManifests","mergeBuildManifests","manifests","manifest","devFiles","ampDevFiles","polyfillFiles","lowPriorityFiles","rootMainFiles","ampFirstPages","m","Object","assign","length","mergeAppBuildManifests","mergePagesManifests","mergeMiddlewareManifests","middleware","sortedMiddleware","functions","processResult","result","global","_nextDeleteCache","serverPaths","map","p","concat","resolve","issue","issues","severity","filePath","title","description","clearCache","writeBuildManifest","buildManifest","values","buildManifestPath","JSON","stringify","content","__rewrites","afterFiles","beforeFiles","fallback","fromEntries","keys","sortedPages","buildManifestJs","writeAppBuildManifest","appBuildManifest","appBuildManifestPath","writePagesManifest","pagesManifest","pagesManifestPath","writeAppPathsManifest","appPathsManifest","appPathsManifestPath","writeMiddlewareManifest","middlewareManifest","middlewareManifestPath","writeOtherManifests","loadableManifestPath","fontManifestPath","appUsingSizeAdjust","pagesUsingSizeAdjust","recursive","Proxy","get","_target","prop","_receiver","ensureOpts","page","match","definition","loadPartialManifest","name","pageName","isApp","isRoute","manifestPath","posix","parse","loadBuildManifest","loadAppBuildManifest","loadPagesManifest","loadAppPathManifest","routeHandler","loadMiddlewareManifest","writeToDisk","Error","writtenEndpoint","endpoint","htmlEndpoint","req","_res","startsWith","params","decodedPagePath","param","decodeURIComponent","ensurePage","clientOnly","finished","config","buildId","telemetry","rewrites","fsChecker","previewProps","prerenderManifest","preview","start","nextScriptWorkers","ensureCallback","ensure","item","itemPath","resolved","prevSortedRoutes","serverFields","Promise","reject","readdir","_","files","directories","rootDir","nestedMiddleware","envFiles","file","push","tsconfigPaths","wp","ignored","some","d","fileWatchTimes","enabledTypeScript","previousClientRouterFilters","previousConflictingPagePaths","Set","on","middlewareMatchers","routedPages","knownFiles","getTimeInfoEntries","appPaths","pageNameSet","conflictingAppPagePaths","appPageFilePaths","pagesPageFilePaths","envChange","tsconfigChange","conflictingPageChange","hasRootAppNotFound","appFiles","pageFiles","sortedKnownFiles","sort","fileName","includes","meta","watchTime","watchTimeChange","timestamp","endsWith","accuracy","isPageFile","isAppPath","isPagePath","rootFile","extensions","keepIndex","pagesType","staticInfo","pageFilePath","isDev","isInsideAppDir","output","actualMiddlewareFile","matchers","regexp","originalSource","instrumentationHook","hasInstrumentationHook","actualInstrumentationHookFile","add","isRootNotFound","isAppRouterPage","originalPageName","replace","nextDataRoutes","has","test","numConflicting","size","errorMessage","appPath","relative","pagesPath","setHmrServerError","clearHmrServerError","clientRouterFilters","clientRouterFilter","clientRouterFilterRedirects","_originalRedirects","r","internal","clientRouterFilterAllowedRate","then","dev","forceReload","silent","tsconfigResult","activeConfigs","forEach","idx","isClient","isNodeServer","isEdgeServer","hasRewrites","plugins","plugin","jsConfigPlugin","resolvedBaseUrl","currentResolvedBaseUrl","resolvedUrlIndex","modules","findIndex","splice","compilerOptions","paths","key","definitions","__NEXT_DEFINE_ENV","newDefine","invalidate","reloadAfterInvalidation","message","appPathRoutes","entries","k","v","hasAppNotFound","middlewareMatcher","interceptionRoutes","basePath","caseSensitiveRoutes","exportPathMap","outDir","value","source","destination","query","sortedRoutes","dynamicRoutes","regex","re","groups","routeRegex","toString","i18n","RegExp","dataRouteRegex","every","val","send","devPagesManifest","warn","startTime","clientPagesManifestPath","devVirtualFsItems","devMiddlewareManifestPath","requestHandler","res","parsedUrl","statusCode","setHeader","end","logErrorWithOriginalStack","usedOriginalStack","stack","frames","frame","find","lineNumber","moduleId","modulePath","src","isEdgeCompiler","edgeServer","compilation","edgeServerStats","serverStats","sep","originalFrame","line","column","rootDirectory","serverCompilation","edgeCompilation","originalCodeFrame","originalStackFrame","methodName","ensureMiddleware","setupDev","isSrcDir","record","webpackVersion","turboFlag","cliCommand","isCustomServer","hasNowJson","cwd"],"mappings":"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"}
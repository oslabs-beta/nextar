{"version":3,"sources":["../../../../src/server/lib/router-utils/resolve-routes.ts"],"names":["url","setupDebug","getCloneableBody","filterReqHeaders","ipcForbiddenHeaders","stringifyQuery","formatHostname","toNodeOutgoingHttpHeaders","invokeRequest","isAbortError","getCookieParser","setLazyProp","getHostname","getRedirectStatus","normalizeRepeatedSlashes","relativizeURL","addPathPrefix","pathHasPrefix","detectDomainLocale","normalizeLocalePath","removePathPrefix","addRequestMeta","getRequestMeta","compileNonPath","matchHas","prepareDestination","debug","getResolveRoutes","fsChecker","config","opts","renderWorkers","renderWorkerOpts","ensureMiddleware","routes","match","name","minimalMode","headers","redirects","rewrites","beforeFiles","afterFiles","check","fallback","resolveRoutes","req","matchedDynamicRoutes","isUpgradeReq","signal","finished","resHeaders","matchedOutput","parsedUrl","parse","didRewrite","urlParts","split","urlNoQuery","statusCode","protocol","socket","encrypted","initUrl","experimental","trustHostHeader","host","port","hostname","query","maybeAddTrailingSlash","pathname","trailingSlash","skipMiddlewareUrlNormalize","endsWith","domainLocale","defaultLocale","initialLocaleResult","undefined","i18n","hadTrailingSlash","hadBasePath","basePath","locales","domains","__nextDefaultLocale","__nextLocale","detectedLocale","startsWith","checkLocaleApi","checkTrue","output","getItem","useFileSystemPublicRoutes","type","dynamicRoutes","getDynamicRoutes","curPathname","substring","length","localeResult","handleLocale","route","has","page","params","pageOutput","__nextDataReq","add","handleRoute","internal","isDefaultLocale","missing","hasParams","Object","assign","interceptionRoutes","interceptionRoute","result","getMiddlewareMatchers","nextDataPrefix","buildId","locale","then","catch","workerResult","app","pages","initialize","Error","stringifiedQuery","parsedInitUrl","URL","curUrl","search","renderUrl","invokeHeaders","middlewareRes","method","cloneBodyStream","e","middlewareHeaders","status","overriddenHeaders","Set","overrideHeaders","key","trim","keys","valueKey","newValue","oldValue","value","entries","includes","rel","curLocaleResult","bodyStream","body","destination","parsedDestination","appendParamsToQuery","header","toLowerCase","Array","isArray","val","push"],"mappings":"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"}
{"version":3,"sources":["../../../src/server/typescript/utils.ts"],"names":["path","ts","info","appDirRegExp","log","message","project","projectService","logger","init","opts","projectDir","getCurrentDirectory","RegExp","replace","getTs","getInfo","getTypeChecker","languageService","getProgram","getSource","fileName","getSourceFile","removeStringQuotes","str","isPositionInsideNode","position","node","start","getFullStart","getFullWidth","isDefaultFunctionExport","isFunctionDeclaration","hasExportKeyword","hasDefaultKeyword","modifiers","modifier","kind","SyntaxKind","ExportKeyword","DefaultKeyword","isInsideApp","filePath","test","isAppEntryFile","basename","isPageFile","getIsClientEntry","throwOnInvalidDirective","source","isClientEntry","isDirective","forEachChild","isExpressionStatement","isStringLiteral","expression","text","e","messageText","getStart","length","getWidth"],"mappings":"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"}
{"version":3,"sources":["../../src/server/server-utils.ts"],"names":["format","formatUrl","parse","parseUrl","normalizeLocalePath","getPathMatch","getNamedRouteRegex","getRouteMatcher","matchHas","prepareDestination","acceptLanguage","detectLocaleCookie","detectDomainLocale","denormalizePagePath","cookie","TEMPORARY_REDIRECT_STATUS","addRequestMeta","removeTrailingSlash","normalizeRscPath","NEXT_QUERY_PARAM_PREFIX","normalizeVercelUrl","req","trustQuery","paramKeys","pageIsDynamic","defaultRouteRegex","_parsedUrl","url","search","key","Object","keys","query","startsWith","groups","includes","interpolateDynamicPath","pathname","params","param","optional","repeat","builtParam","paramIdx","indexOf","paramValue","value","Array","isArray","map","v","encodeURIComponent","join","slice","length","getUtils","page","i18n","basePath","rewrites","trailingSlash","caseSensitive","dynamicRouteMatcher","defaultRouteMatches","handleRewrites","parsedUrl","rewriteParams","fsPathname","matchesPage","fsPathnameNoSlash","checkRewrite","rewrite","matcher","source","removeUnnamedParams","strict","sensitive","has","missing","hasParams","assign","parsedDestination","destQuery","appendParamsToQuery","destination","protocol","replace","RegExp","destLocalePathResult","locales","nextInternalLocale","detectedLocale","dynamicParams","beforeFiles","finished","afterFiles","fallback","handleBasePath","getParamsFromRouteMatches","renderOpts","routeKeys","re","exec","str","obj","fromEntries","URLSearchParams","matchesHasLocale","normalizedKey","substring","routeKeyNames","filterLocaleItem","val","isCatchAll","_val","some","item","toLowerCase","locale","splice","every","name","reduce","prev","keyName","paramName","pos","parseInt","headers","normalizeDynamicRouteParams","ignoreOptional","hasValidParams","defaultValue","isOptional","isDefaultValue","defaultVal","undefined","split","handleLocale","res","routeNoAssetPath","shouldNotRedirect","defaultLocale","acceptPreferredLocale","localeDetection","_","host","hostname","detectedDomain","domains","localeDomainRedirect","localePathResult","localeToCheck","matchedDomain","domain","http","denormalizedPagePath","detectedDefaultLocale","shouldStripDefaultLocale","shouldAddLocalePrefix","previous","getHeader","setHeader","serialize","httpOnly","path","statusCode","end"],"mappings":"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"}